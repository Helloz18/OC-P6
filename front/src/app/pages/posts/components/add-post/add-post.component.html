<mat-icon class="arrow_back" (click)="previous()">keyboard_backspace</mat-icon>

<div class="formulaire">
  <form [formGroup]="postForm" (ngSubmit)="onSubmit()">
    <h2>Créer un nouvel article</h2>
    <div class="column" *ngIf="topics">
        <mat-select matSelect formControlName="topicId" required class="colored_border createWidth" placeholder="Sélectionner un thème">
          @for (t of topics; track t) {
          <mat-option matOption [value]="t.id">{{ t.name }}</mat-option>
          }
        </mat-select>
      <mat-form-field appearance="outline" class="colored_border createWidth">
        <input matInput type="text" placeholder="Titre de l’article" formControlName="title" required />
      </mat-form-field>
      <mat-error
        *ngIf="
          postForm.controls['title'].invalid &&
          postForm.controls['title'].touched
        "
      >
        Un titre est requis.
      </mat-error>

      <mat-form-field appearance="outline" class="colored_textarea_border">
        <textarea matInput type="text" rows="8"  formControlName="content" placeholder="Contenu de l’article" required ></textarea>
      </mat-form-field>
      <mat-error
        *ngIf="
          postForm.controls['content'].invalid &&
          postForm.controls['content'].touched
        "
      >
        Un contenu est requis.
      </mat-error>

      <button
        mat-flat-button
        type="submit"
        class="button_size"
        routerLink="/articles"
        [disabled]="postForm.invalid"
      >
        Créer
      </button>
    </div>
  </form>
</div>
